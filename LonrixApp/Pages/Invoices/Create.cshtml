@page
@model LonrixApp.Pages.Invoices.CreateModel
@{
}
<h2 class="text-center">New Invoice</h2>
<form method="post">
	<div class="row g-2 mb-3">
		<div class="col-lg-6">
			<div class="card h-100">
				<div class="card-header">Invoice Details</div>
				<div class="card-body">
					<div class="row mb-3">
						<label class="col-sm-4 col-form-label">Invoice No</label>
						<div class="col-sm-8">
							<input class="form-control" asp-for="InvoiceDt.Number" />
							<span asp-validation-for="InvoiceDt.Number" class="text-danger"></span>
						</div>
					</div>
					<div class="row mb-3">
						<label class="col-sm-4 col-form-label">Payment Status</label>
						<div class="col-sm-8">
							<select class="form-select" asp-for="InvoiceDt.Status">
								<option value="Pending">Pending</option>
								<option value="Paid">Paid</option>
							</select>
							<span asp-validation-for="InvoiceDt.Status" class="text-danger"></span>
						</div>
					</div>
					<div class="row mb-3">
						<label class="col-sm-4 col-form-label">Issue Date</label>
						<div class="col-sm-8">
							<input type="date" class="form-control" asp-for="InvoiceDt.IssueDate" />
							<span class="text-danger" asp-validation-for="InvoiceDt.IssueDate"></span>
						</div>
					</div>
					<div class="row mb-3">
						<label class="col-sm-4 col-form-label">Due Date</label>
						<div class="col-sm-8">
							<input class="form-control" type="date" asp-for="InvoiceDt.DueDate" />
							<span asp-validation-for="InvoiceDt.DueDate" class="text-danger"></span>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-lg-6">
			<div class="card h-100">
				<div class="card-header">Client Details</div>
				<div class="card-body">
					<div class="row mb-3">
						<label class="col-sm-4 col-form-label">Client</label>
						<div class="col-sm-8">
							<input class="form-control" asp-for="InvoiceDt.ClientName" />
							<span asp-validation-for="InvoiceDt.ClientName" class="text-danger"></span>
						</div>
					</div>
					<div class="row mb-3">
						<label class="col-sm-4 col-form-label">Email</label>
						<div class="col-sm-8">
							<input class="form-control" asp-for="InvoiceDt.Email" />
							<span asp-validation-for="InvoiceDt.Email" class="text-danger"></span>
						</div>
					</div>
					<div class="row mb-3">
						<label class="col-sm-4 col-form-label">Phone</label>
						<div class="col-sm-8">
							<input class="form-control" asp-for="InvoiceDt.phone" />
							<span class="text-danger" asp-validation-for="InvoiceDt.phone"></span>
						</div>
					</div>
					<div class="row mb-3">
						<label class="col-sm-4 col-form-label">Address</label>
						<div class="col-sm-8">
							<input class="form-control" asp-for="InvoiceDt.Address" />
							<span class="text-danger" asp-validation-for="InvoiceDt.Address"></span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="card mb-3">
		<div class="card-header">Service Details</div>
		<div class="card-body">
			<div class="row g-2">
				<div class="col-lg-6">
					<label class="form-label">Service</label>
					<input class="form-control" asp-for="InvoiceDt.Service" />
					<span class="text-danger" asp-validation-for="InvoiceDt.Service"></span>
				</div>
				<div class="col-lg-2 col-sm-4">
					<label class="form-label">Quantity</label>
					<input class="form-control" asp-for="InvoiceDt.Quantity" id="quantityInput" oninput="updateTotalPrice()" />
					<span asp-validation-for="InvoiceDt.Quantity" class="text-danger"></span>
				</div>
				<div class="col-lg-2 col-sm-4">
					<label class="form-label">Unit Price</label>
					<input class="form-control" asp-for="InvoiceDt.UnitPrice" id="unitPriceInput" oninput="updateTotalPrice()" />
					<span asp-validation-for="InvoiceDt.UnitPrice" class="text-danger"></span>
				</div>
				<div class="col-lg-2 col-sm-4">
					<label class="form-label">Totaal Price</label>
					<input class="form-control" disabled id="totalPriceInput" />
				</div>
			</div>
		</div>
	</div>
	<button type="submit" class="btn btn-primary me-2">Submit</button>
	<a class="btn btn-outline-primary" asp-page="/Invoices/Index" role="button">Cancel</a>
</form>

					<script>
						function updateTotalPrice(){
							let quantity=document.getElementById("quantityInput").value;
							let unitprice=document.getElementById("unitPriceInput").value;

							if(isNaN(quantity) || isNaN(unitprice)){
								document.getElementById("totalPriceInput").value="0";
							}
							else
							{
								let totalprice = quantity*unitprice;
								document.getElementById("totalPriceInput").value=totalprice;
							}
						}
						updateTotalPrice();
					</script>